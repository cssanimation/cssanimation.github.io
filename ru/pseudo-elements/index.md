---
layout: post
bodyClass: shorter
title: Анимация&nbsp;псевдоэлементов
description: Псевдоэлементы дают два дополнительных&nbsp;HTML элемента бесплатно!
categories: [animation, tips, animations, pseudo-elements]
customCSS: shiny_button.css
imageURL: /assets/images/posts/sheen/sheen.gif
home_image: /assets/images/posts/sheen/home.png
tweet_text: Блестящие кнопки с помощью CSS
translator: Panda
translator_link: /
---

Псевдоэлементы это словно получение дополнительных элементов DOM за просто так. Они позволяют добавлять дополнительный контент, оформлять и многое другое на наших страницах без добавления дополнительных HTML, а также они могут быть анимированными. В этой статье мы будем использовать псевдоэлемент для добавления визуального оформления к кнопке.

<section class="shiny demo-container tap-to-activate"><button>Эффект блеска</button></section>

## Псевдоэлементы

С&nbsp;&nbsp;CSS мы можем задать псевдоэлемент используя&nbsp;`::before` или&nbsp;`::after`. Псевдоэлемент находится внутри вашего элемента, между элементом и любым содержимым. Так как он действует как элемент самостоятельно, то может быть стилизованым, позиционируемым и многое другое. Код выглядит приблизительно вот так:
 

    .pebble::before {
      ...
    }
    .pebble::after {
      ...
    }


На этой стадии наш элемент `.pebble`&nbsp;имеет два присоединенных виртуальных элемента и мы можем стилизовать их по мере необходимости.

### Обратите внимание на &quot;::&quot; вместо &quot;:&quot;

Обычно мы используем двойное двоеточие :: для обозначения псевдоэлементов (в отличие от псевдоклассов, как&nbsp;:hover, :first-child). Если хотите поддержку&nbsp;IE8, то лучше заменить на одиночный&nbsp;`:`. Другие браузеры и новые версии IE поддержуют двойные.

### Не забудьте о &quot;content&quot;

При добавлении псевдоэлементов, одну вещь всегда необходимо иметь в виду - указать свойство&nbsp;`content`, прежде чем&nbsp;они станут видимыми на странице. Так как псевдоэлемент создается в состоянии контента, то мы можем обмануть его появление с помощью пустого содержимого, например, так:
 

    .pebble::before {
      content: ""
      ... more styling goes here...
    }


Это дает убедиться, что элемент виден на экране.

## Например: блестящая кнопка&nbsp;

В этом примере мы используем псевдоэлемент для создания эффекта сияния при наведении мыши на кнопку. Вот пример этого в действии (наведите или нажмите, чтобы увидеть эффект).

<section class="shiny demo-container tap-to-activate"><button>Эффект блеска</button></section>

Для начала немного HTML:
 

<button>Oooh SHINY</button>


С момента использования псевдоэлементов нам не нужно больше HTML, чем то что есть, чтобы получить движение. Вы можете захотеть добавить класс к кнопке, если стилизовать&nbsp;необходимо более одного типа на странице, но сейчас мы будем использовать общий элемент для упрощения.

### Добавляем эффект блеска

Эффект яркого блеска представляет собой линейный градиент, который проходит через кнопку. Чтобы создать это мы используем псевдоэлемент&nbsp;`after `и первоначальное положение будет вне кнопки:
 

    button::after {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      bottom: -50%;
      left: -50%;
      background: linear-gradient(to bottom, rgba(229, 172, 142, 0), rgba(255,255,255,0.5) 50%, rgba(229, 172, 142, 0));
      transform: rotateZ(60deg) translate(-5em, 7.5em);
    }


Эффект блеска состоит из градиента от цвета кнопки до белого и обратно. На данном этапе эффект находится за пределами кнопки.

Нам нужно скрыть слой с блеском так, чтобы он показывался только при наведении курсора мыши. Для этого используем свойство&nbsp;`overflow` со значением&nbsp;`hidden`. Поскольку псевдоэлемент находится внутри кнопки, это означает, что это позиционирование вне ее предела и его не будет видно.
 

    button {
      background: #e5ac8e;
      color: #fff;
      font-size: 14px;
      border-radius: 0.5em;
      padding: 0 1em;
      position: relative;
      overflow: hidden;
      line-height: 32px;
    }


Я поместил некоторые другие стили кнопке, что придаст ей собственный вид. Единственное, что следует отметить, то это применение `position: relative`. Я добавил это свойство для абсолютного позиционирования псевдоэлемента и это будет находиться внутри кнопки. Указания позиции: абсолютно размещенный элемент будет находиться в пределах родительского элемента.

## Добавление анимации

Поскольку мы будем использовать анимацию в этом примере, то нужно выполнить два шага. Первый: сообщить браузеру, что&nbsp;при наведении курсора мыши на элемент(кнопку) будет задействована анимация. Второе:&nbsp;устанавливаем, что именно эта анимация использует ключевые кадры.

Добавляем состояние при наведении курсора мыши путем наложения&nbsp;`after `на&nbsp;`hover`:
 

button:hover::after, button:focus::after {
  animation: sheen 1s forwards;
}


Здесь мы говорим браузеру, что&nbsp;при наведении мышки, псевдоэлемент `after `будет&nbsp;`animation`. Имя анимации &quot;sheen&quot;,&nbsp;продолжается 1 секунду и прекратится в конце без повторения.

Последовательность имеет значение здесь. Если использовать `&nbsp;::after:hover`,то это не будет работать при наведении курсора мыши, так как это будет говорить браузеру реагировать на самого псевдоэлемента.

Я также добавил состояние в фокусе. Это означает, что&nbsp;посетитель при табуляции через страницу сможет увидеть эффект блеска без необходимости наведения курсора мыши. (Спасибо, [&Scaron;ime Vidas](https://twitter.com/simevidas), за подсказку)

Давайте установим&nbsp;`keyframes&nbsp;`для анимации:
 

    @keyframes sheen {
      100% {
        transform: rotateZ(60deg) translate(1em, -9em);
      }
    }


Нам нужен лишь один ключевой кадр в этом примере. Начиная с позиции (0%), это подразумеваемая начальная позиция псевдоэлемента и мы опишем только конечное положение. В этом примере конечная позиция расположена в верхнем правом углу кнопки. Браузер будет анимировать эффект блеска через кнопку для нас.

<section class="shiny demo-container tap-to-activate"><button>Эффект блеска</button></section>

## Браузер

[Свойство анимации хорошо поддерживается](http://caniuse.com/#feat=css-animation),&nbsp;как и [псевдоэлементы](http://caniuse.com/#feat=css-gencontent). Хорошой практикой является добавление префиксов `-webkit` и&nbsp;`-moz` для&nbsp;`keyframes `и любых трансформаций.
