<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <title>
    CSS Portal - CSS Animation
  </title>
  <meta
    name="description"
    content="Nachbildung einer Videoanleitung für ein klassisches Portal mit HTML und CSS"
  />
  
  <link rel="stylesheet" href="//fast.fonts.net/cssapi/ac2fb2fd-d7da-40b3-b713-85f23384b3af.css" />
  <link rel="stylesheet" href="/css/main.css" />
  
  <link rel="stylesheet" href="/css/custom/portal.css" />
  
  
  <link rel="canonical" href="/de/portal/" />
  <link rel="alternate" type="application/rss+xml" title="CSS Animation" href="/feed.xml" />
  
  
  <meta property="twitter:card" content="summary" />
  <meta property="twitter:site" content="@cssanimation" />
  <meta property="twitter:creator" content="@donovanh" />
  <meta property="og:title" content="CSS Portal - CSS Animation" />
  <meta property="og:description" content="Nachbildung einer Videoanleitung für ein klassisches Portal mit HTML und CSS" />
  <meta property="og:image" content="/images/posts/portal/home.png" />
  <meta property="og:url" content="/de/portal/" />
  

  <meta name="mobile-web-app-capable" content="yes" />
  <link rel="icon" sizes="192x192" href="/images/favicons/favicon-192x192.png" />
  <meta name="apple-mobile-web-app-title" content="CSS Animation" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" href="/images/favicons/apple-touch-icon-152x152.png" />
  <meta name="msapplication-TileImage" content="/images/favicons/apple-touch-icon-144x144.png" />
  <meta name="msapplication-TileColor" content="#fcf5f2" />

  <link rel="shortcut icon" href="/images/favicons/favicon.ico" />
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />

  
  <meta name="google-site-verification" content="5imT8mOKPjwxAqlEs9aU4uh4jBcsYQyMNdlKgU1Dja8" />

  <style>
    .wow {
      visibility: hidden;
    }
  </style>
</head>


  <body class="">
    

  <section class="post-header">

    <section class="logo">
      <a href="/">
        <section class="svg-logo">
          <a href="/"><img src="/images/rocky.svg" alt="CSS Animation"></a>
        </section>
      </a>
    </section>
    
      <section class="demo">
        <section class="demo-container container">
  <div class="portal">
    <section class="stage">
      <div class="shadow"></div>
      <div class="back-left"></div>
      <div class="back-right"></div>
      <div class="platform-left"><span></span></div>
      <div class="platform-right"><span></span></div>
      <div class="pit-left"></div>
      <div class="pit-right"></div>
      <div class="pit-back"></div>
      <div class="door"></div>
      <div class="portal red"></div>
      <div class="portal blue"></div>
      <div class="person one">
        <figure class="head"></figure>
        <figure class="body"></figure>
        <div class="person-shadow one">
          <figure class="head"></figure>
          <figure class="body"></figure>
        </div>
      </div>
      <div class="person two">
        <figure class="head"></figure>
        <figure class="body"></figure>
        <figure class="arm left"></figure>
        <figure class="arm right"></figure>
        <div class="person-shadow two">
          <figure class="head"></figure>
          <figure class="body"></figure>
          <figure class="arm left"></figure>
          <figure class="arm right"></figure>
        </div>
      </div>
    </section>
  </div>
</section>
<section class="fallback"></section>

      </section>
    
    <div class="absolute-nav">
      <nav>
  <ul>
    <li><a href="/courses/">Learn CSS Animation</a></li>
    <li><a href="https://weekly.cssanimation.rocks">Weekly Newsletter</a></li>
  </ul>
</nav>

    </div>
  </section>

<section class="container page-content">
  <section class="row">
    <article class="post-content nine columns ">
      <h1 class="post-title" style="margin-bottom:4px;">CSS Portal</h1>
      <p style="font-size: 14px;margin-top: 0;color: #aaa;" class="date">June 26, 2025</p>
      
      <p>Ihr benötigt kein JavaScript um beeindruckende 3D-Projekte in Eurem Web Browser zu erstellen. In diesem Artikel werde ich Euch zeigen, wie man eine Portal-Szene mit ausschliesslich CSS erstellt und animiert.</p>
<p>Schaut Euch die <a href="http://hop.ie/portal/">CSS Portal demo</a> an und ladet Euch den <a href="https://github.com/donovanh/portal">Quellcode bei Github</a> herunter.</p>
<h2 id="portal-orientation-video-no.-1" tabindex="-1">Portal Orientation Video No. 1</h2>
<p>Um Euch die verschiedenen Schritte einer 3D-Szene (erstellen, stylen und schließlich animieren) nahe zu bringen, werden wir in diesem Artikel eine Szene aus dem <a href="http://www.youtube.com/watch?v=gr_9Fw_gC4I">Portal Training Video</a> nachbauen. Insbesondere konzentrieren wir uns auf den stilisierten Cartoon-look aus dem ersten Teil des Videos, in dem die Silhouette einer Figur durch ein Portal springt und auf der anderen Seite wieder auftaucht.
Hier ist das originale Video:</p>
<div class="videoWrapper">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/0jhDAVkdsAI?modestbranding=1&cc_load_policy=0&iv_load_policy=3&vq=hd720" frameborder="0" allowfullscreen></iframe>
</div><br>
<p>Als dieses Video zum ersten Mal veröffentlicht wurde, hat es mich völlig umgehauen. Portal (entwickelt von <a href="http://en.wikipedia.org/wiki/Narbacular_Drop">Narbacular Drop</a>) führte mit der Einführung ihrer Spielmechanik zu einer interessanten Wendung im 3D Genre.</p>
<p>Die isometrische Zeichentrick-Grafik im Einführungsvideo unterscheidet sich sehr vom eigentlichen Spiel, spiegelt aber dennoch zum Teil seinen Charakter wider. In diesem Post werde ich versuchen, den Zeichentrick-Stil mit nichts als HTML und CSS nachzustellen.</p>
<p>Genauer gesagt ist dies die Szene, die wir erstellen werden:</p>
<img src="/images/posts/portal/video.jpg" alt="Portal video screenshot" />
<h3 id="ein-kurzer-hinweis-zu-browser-prefixes" tabindex="-1">Ein kurzer Hinweis zu <em>browser prefixes</em></h3>
<p>Ich habe im folgenden CSS die prefix-Versionen entfernt und empfehle Euch, entweder <a href="http://leaverou.github.io/prefixfree/">prefix free</a> oder <a href="http://sass-lang.com/">SASS</a> oder etwas Ähnliches zu benutzen, um diese automatisch zu handhaben. Denkt auf der anderen Seite daran, dass ihr die meisten Browser prefixes werdet benutzen müssen. Die vollständigen Versionen des CSS und SASS zusammen mit dem HTML könnt ihr auf <a href="https://github.com/donovanh/portal">Github</a> finden.</p>
<h3 id="es-gibt-noch-einiges-zu-tun" tabindex="-1">Es gibt noch einiges zu tun</h3>
<p>Dieses Projekt wurde in erster Linie in Chrome entwickelt und getestet. Es enthält CSS, dass im Internet Explorer nicht einwandfrei laufen wird. Einige der CSS 3D-Techniken könnten sich, obwohl sie noch nicht im mainstream angekommen sind, in der Front-End Entwicklung als nützlich erweisen.</p>
<h2 id="los-geht%E2%80%99s" tabindex="-1">Los geht’s</h2>
<p>Wir müssen zunächst einen Rahmen erstellen, in welchem unsere 3D-Szene stattfinden soll. Dazu nehmen wir ein HTML-Element und lassen den Browser über die entsprechenden Eigenschaften wissen, dass er Elemente in 3D zu erwarten hat. Legen wir also mit etwas HTML los:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span></code></pre>
<p>In diesem Fall ist der Container ein <em>article tag</em>. Dieser <em>tag</em> ist in HTML5 ein Inhalt, welcher für sich alleine Sinn macht und sich an anderer Stelle auf der Seite wiederholen kann.</p>
<p>Die erste Eigenschaft, die wir setzen, ist <em><a href="http://docs.webplatform.org/wiki/css/properties/perspective">perspective</a></em>. Sie akzeptiert einen Wert in Pixeln und repräsentiert die Tiefe der 3D-Szene. Ein kleinerer Wert produziert einen dramatischeren Effekt. Gängige Werte für diese Eigenschaft liegen zwischen 800 und 1200 Pixeln.</p>
<img src="/images/posts/portal/perspective.gif" alt="Wechsel zwischen Perspektiv-werten von 900 und 2000 Pixeln" class="bordered centered" />
<p>Damit die Szene den Eindruck eines großen Raumes erweckt, werden wir den Wert für <em>perspective</em> recht hoch setzen, 2600px. Die verschiedenen Browser Präfixe außer Acht lassend, sieht das folgendermaßen aus:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">article.container</span> <span class="token punctuation">{</span>
  <span class="token property">perspective</span><span class="token punctuation">:</span> 2600px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="fluchtpunkt" tabindex="-1">Fluchtpunkt</h3>
<p>Der Container der Szene hat nun eine Tiefe. Der nächste Schritt besteht darin, einen Blickwinkel zu bestimmen. Mit der <em><a href="http://docs.webplatform.org/wiki/css/properties/perspective-origin">perspective-origin</a></em> Eigenschaft können wir den Fluchtpunkt der Szene festlegen und somit beeinflussen, ob wir z.B. von oben oder von der Seite auf die Szene schauen.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">perspective-origin</span><span class="token punctuation">:</span> 50% -1400px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Diese Eigenschaft erwartet zwei Werte: einen für den horizontalen und einen für den vertikalen Versatz des Fluchtpunktes. In diesem Fall setzen wir den ersten, horizontalen Wert genau in die Mitte der Szene. Den vertikalen hingegen versetzen wir nach oben auf 1400 Pixel. Wir schauen dadurch also von oben auf die Szene herab.</p>
<p>Diese Werte habe ich im Chrome Web Inspector mit gutem Augenmaß ermittelt und eingestellt. Bei Eurer Szene werdet Ihr die Werte möglicherweise höher oder niedriger setzen. Das wird davon abhängen, welchen Effekt Ihr beim Betrachter erzielen wollt. Denkt auch daran, dass man die <em>perspective-origin</em> Eigenschaft und somit den Blickwinkel animieren kann, womit man einen interessanten Effekt erreichen kann.</p>
<h3 id="keine-vektoren" tabindex="-1">Keine Vektoren</h3>
<p>Unsere Objekte im HTML <em>markup</em> sind normale HTML-Elemente. Sie besitzen eine Breite und eine Höhe und sind rechteckig. Während Ihr also ein 3D-Objekt erstellt, wird jedes dieser Rechtecke positioniert. Dieser Ansatz unterscheidet sich von einigen anderen Methoden, bei denen mit Hilfe von Punkten und Linien Formen erstellt werden. Dies bedeutet auch, dass wir weniger für 3D-Programme typische primitive Formen wie z.B. Kreise und Teekannen zur Verfügung haben.</p>
<p>Unsere HTML-Elemente werden innerhalb der 3D-Szene mit Hilfe der <em>transform</em> Eigenschaft arrangiert.</p>
<h3 id="transformieren" tabindex="-1">Transformieren</h3>
<p>Die <em>transform</em> Eigenschaft beinhaltet eine Reihe von Neuausrichtungen für das HTML-Element. Diese Neuausrichtungen des Elements können im Versetzen (<em>translate</em>), in seiner Rotation (<em>rotate</em>), seiner Verdrehung (<em>skew</em>) and sogar seiner Skalierung (<em>skale</em>) bestehen. Diese Neuausrichtungen lassen sich kombinieren um noch komplexere Transformationen zu animieren, wie z.B.:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.example</span> <span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>-100px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Dieser Befehl rotiert das Element zunächst um 45 Grad um die Y-Achse und verschiebt es anschließend um 100 Pixel auf der Z-Achse. Das Ganze würde dann so aussehen:</p>
<img src="/images/posts/portal/transform.png" alt="Eine Transformation in Aktion" class="bordered centered" />
<h3 id="die-transform-origin-eigenschaft" tabindex="-1">Die <em>transform-origin</em> Eigenschaft</h3>
<p>Wenn wir Element rotieren, lohnt es sich im Hinterkopf zu behalten, dass sich der Ursprung der Transformation festlegen lässt. Der Wert der <em>tranform-origin</em> Eigenschaft ist ein Punkt im Koordinatensystem, wird also durch Werte auf der X-, Y- und Z-Achse bestimmt. Der Standardwert ist:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.default-origin</span> <span class="token punctuation">{</span>
  <span class="token property">transform-origin</span><span class="token punctuation">:</span> 50% 50% 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Für unser Beispiel habe ich die Eigenschaft auf Ihrem Standardwert belassen. Allerdings ist es nützlich zu wissen, dass diese Eigenschaft existiert.</p>
<h2 id="wir-bauen-uns-eine-3d-welt" tabindex="-1">Wir bauen uns eine 3D-Welt</h2>
<p>Unser Schauplatz ist eingerichtet, und wir können somit beginnen, unser Meisterwerk zusammenzustellen. Für das Arbeiten mit 3D-Objekten in HTML und CSS macht es Sinn, sich einen Moment Zeit zu nehmen um zu verstehen, wie sich dieser Ansatz von anderer 3D-Software unterscheidet.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stage<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>shadow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>back-left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>back-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>platform-left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>platform-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pit-left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pit-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pit-back<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span></code></pre>
<p>Der oben gezeigte Code beinhaltet ein <em>section</em> Element, welches unsere Bühne sein wird (<em>stage</em>). Eine Reihe von <em>div</em> Elementen innerhalb des <em>section</em> Elements bilden das Grundgerüst. Sie werden die Formen der Hintergründe, der Ebenen, die Seiten des Schachtes und der Schatten unter den Objekten annehmen.</p>
<p>Als ich mit der Szene begann, habe ich zunächst versucht, die Wände direkt auf der Bühne aufzustellen, zu drehen und in Position zu bringen. Da wir die Szene jedoch von einem isometrischen Winkel betrachten, ist es einfacher, alle Elemente aufzustellen und anschließend die gesamte Szene um 45 Grad zu drehen.</p>
<p>Wenn wir dies berücksichtigen, können wir die Elemente gemäß folgender Zeichnung in Position bringen:</p>
<img src="/images/posts/portal/sketch.png" alt="Grundriss der Szene" class="centered" />
<p>Wie man sehen kann, ist die Seite, die sich hinten links befinden soll, links ausgerichtet. Aber die Seite, die sich hinten rechts befinden soll, sitzt dem Zuschauer direkt gegenüber. Um dies auszugleichen, werden wir später die gesamte Szene um 45 Grad drehen.</p>
<p>Bevor wir allerdings die Transformationen ausführen können, müssen wir zunächst einige gemeinsame Eigenschaften für die <em>divs</em> festlegen:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage div</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">transform-style</span><span class="token punctuation">:</span> preserve-3d<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Jedes div wird <em>absolute</em> positioniert. Außerdem setzen wir die <em>transform-style</em> Eigenschaft, um den Browser wissen zu lassen, dass unsere Transformationen unter Berücksichtigung der eingestellten Perspektive ausgeführt werden sollen.</p>
<p>Nachdem dies erledigt ist, können wir nun die <em>divs</em> positionieren:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .back-left</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #6b522b<span class="token punctuation">;</span>
  <span class="token property">border-left</span><span class="token punctuation">:</span> 6px solid #574625<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> 6px solid #8a683d<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>90deg<span class="token punctuation">)</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-256px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Die oben stehenden Anweisungen beschreiben eine Breite von 500 Pixeln, was der Seitenlänge unserer 3D-Szene entspricht, eine Höhe von 120 Pixeln und einen hellbraunen Hintergrund. Das Element wird dann um 90 Grad gedreht und auf der X-Achse nach hinten versetzt. Der Rand von 6 Pixel soll die Illusion von Tiefe erzeugen.</p>
<p>Für das <em>div</em> hinten rechts benutzen wir eine ähnliche Transformation:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .back-right</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #9c7442<span class="token punctuation">;</span>
  <span class="token property">border-right</span><span class="token punctuation">:</span> 6px solid #78552c<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> 6px solid #b5854a<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>253px<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>3px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 446px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Dieses Element ist ein bisschen kleiner, da es im originalen Video so aussieht, als wäre der Raum nicht vollkommen quadratisch.</p>
<p>Als nächstes fügen wir die Ebenen und die Seiten des Schachtes hinzu:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .platform-left</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #bcb3a8<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 6px solid #857964<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 220px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>90deg<span class="token punctuation">)</span> <span class="token function">translateY</span><span class="token punctuation">(</span>396px<span class="token punctuation">)</span> <span class="token function">translateX</span><span class="token punctuation">(</span>253px<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>-13px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 446px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .platform-right</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #bcb3a8<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 6px solid #847660<span class="token punctuation">;</span>
  <span class="token property">border-right</span><span class="token punctuation">:</span> 6px solid #554c3d<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 164px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>90deg<span class="token punctuation">)</span> <span class="token function">translateY</span><span class="token punctuation">(</span>88px<span class="token punctuation">)</span> <span class="token function">translateX</span><span class="token punctuation">(</span>253px<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>-41px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 446px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .pit-left</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #4d4233<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>254px<span class="token punctuation">,</span> 125px<span class="token punctuation">,</span> 285px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 447px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .pit-right</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #847660<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> -1400px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>254px<span class="token punctuation">,</span> 125px<span class="token punctuation">,</span> 173px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 451px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .pit-back</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #6b522b<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 220px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>90deg<span class="token punctuation">)</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>-200px<span class="token punctuation">,</span> 87px<span class="token punctuation">,</span> 168px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 170px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Das Endresultat sollte folgendermaßen aussehen:</p>
<img src="/images/posts/portal/layout01.png" alt="Ausgangslayout der divs für die Bühne" />
<p>Etwas fehlt noch. Um die gesamte Szene richtig zu sehen, müssen wir sie drehen. Wir fügen also eine Transformation zur <em>stage</em> Klasse hinzu:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
  <span class="token property">transform-style</span><span class="token punctuation">:</span> preserve-3d<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>-45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 460px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Das Ergebnis sollte nun so aussehen:</p>
<img src="/images/posts/portal/layout02.png" alt="Rotiertes Ausgangslayout um die Bühne korrekt darzustellen" />
<p>Ihr werdet vielleicht bemerkt haben, dass die Ränder (<em>border</em> Eigenschaft) einen netten Effekt von Tiefe erzeugen, und zwar besonders da, wo sich zwei Ränder unterschiedlicher Farben in einem Winkel von 45 Grad treffen. Da wir unser Werk aus einem Winkel von 45 Grad betrachten, wirkt dieser Effekt zumeist zu unserem Vorteil. Einige der Ecken sehen nicht ganz korrekt aus. Wenn wir allerdings berücksichtigen, wie einfach die <em>border</em> Eigenschaft einzusetzen ist und dass wir keine Bilder zu Verfügung haben, denke ich, dass dies ein akzeptabler Kompromiss ist.</p>
<h3 id="im-schatten" tabindex="-1">Im Schatten</h3>
<p>Das Video zeigt einen schönen Schatten unter den beiden Ebenen, welchen wir mit Hilfe der CSS <em>box-shadow</em> Eigenschaft nachahmen wollen.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .shadow</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> -600px 0 50px #afa79f<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 550px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>90deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>-166px<span class="token punctuation">)</span> <span class="token function">translateX</span><span class="token punctuation">(</span>550px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 550px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Die oben stehenden Anweisungen erzeugen einen Schatten für <em>div.shadow</em>. Die <em>div</em> selbst ist transparent. Der Schatten ist um 600 Pixel versetzt, sodass die eigentliche <em>div</em> den Schatten nicht überlagert. Das ganze wird so gedreht und positioniert, dass von oben aus nur der Schatten zu sehen ist. Das Ergebnis sollte nun folgendermaßen aussehen:</p>
<img src="/images/posts/portal/layout03.png" alt="Ausgangslayout mit Schatten" />
<h2 id="rot-gegen-blau" tabindex="-1">Rot gegen Blau</h2>
<p>Als nächstes müssen wir etwas Dekoration und die Portale hinzufügen.</p>
<img src="/images/posts/portal/portal.png" alt="Rotes Portal" />
<p>Das HTML für die beiden Portal könnte simpler nicht sein:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>portal red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>portal blue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Für das rote und das blaue Portal existiert jeweils ein <em>div</em>. Die beiden sehen einander ähnlich, wobei wir Gradienten benutzen, um den Leuchteffekt zu erzeugen. Da für jedes Portal nur ein HTML-Element existiert, benutzen wir ein CSS Pseudo-Element, um den Gesamteindruck zu vervollständigen.</p>
<p>Im ersten Schritt kümmern wir uns um die Form der Portale:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .portal</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 44px/62px<span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 15px 4px white<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 72px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 48px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Mit Hilfe der <em>border-radius</em> Eigenschaft erstellen wir die ovale Form der Portale. <em>box-shadow</em> benutzen wir um ein weißes Leuchten zu erzeugen. Anschließend nutzen wir ein Pseudo-Element mit ähnlichen Ausmaßen, um den weißen Ring zu erzeugen:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .portal:before</span> <span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 44px/62px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 4px solid white<span class="token punctuation">;</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 72px<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -4px
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -4px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 48px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Alle bisherigen Anweisungen betrafen beide Portale. Da eines jedoch rot und das andere blau ist, benutzen wir unterschiedliche Anweisungen, um die weiteren Eigenschaften zu spezifizieren.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .portal.red</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">radial-gradient</span><span class="token punctuation">(</span>#000000<span class="token punctuation">,</span> #000000 50%<span class="token punctuation">,</span> #ff4640 70%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 7px solid #ff4640<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>223px<span class="token punctuation">,</span> 25px<span class="token punctuation">,</span> 385px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>90deg<span class="token punctuation">)</span> <span class="token function">skewX</span><span class="token punctuation">(</span>5deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .portal.blue</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">radial-gradient</span><span class="token punctuation">(</span>#000000<span class="token punctuation">,</span> #000000 50%<span class="token punctuation">,</span> #258aff 70%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 7px solid #258aff<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>586px<span class="token punctuation">,</span> 25px<span class="token punctuation">,</span> 4px<span class="token punctuation">)</span> <span class="token function">skewX</span><span class="token punctuation">(</span>-5deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Das rote Portal erhält als Hintergrung einen <a href="http://docs.webplatform.org/wiki/css/functions/radial-gradient">radialen Gradienten</a> und dazu einen roten Rand. Mit Hilfe einer Transformation drehen und positionieren wir das Portal an der linken Wand. Das blaue Portal erhält dementsprechend einen blauen Gradienten und wird an der rechten Wand positioniert. Beide Portale sahen daraufhin etwas merkwürdig aus, sodass ich sie um 5 Grad verdreht (<em>skew</em> Eigenschaft) habe, um sie größer aussehen zu lassen.</p>
<h3 id="portal-leuchten" tabindex="-1">Portal-Leuchten</h3>
<p>Im oben stehenden HTML haben wir zwei <em>span tags</em> innerhalb jeder Ebene eingefügt. Sie haben den Zweck, das Portal-Leuchten unterhalb der Portale darzustellen.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .platform-left span</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">radial-gradient</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> #f3cac8<span class="token punctuation">,</span> #c8b8ad 70px<span class="token punctuation">,</span> #bcb3a8 90px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .platform-right span</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">radial-gradient</span><span class="token punctuation">(</span>top<span class="token punctuation">,</span> #cdebe8<span class="token punctuation">,</span> #c2cbc1 40px<span class="token punctuation">,</span> #bcb3a8 60px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Die beiden <em>span tags</em> werden <em>absolute</em> positioniert und erhalten einen roten und blauen Gradienten, welcher jeweils unterhalb der Portale positioniert wird. Wir hätten dies auch mit einem Pseudo-Element erreichen können. Allerdings ist die Browser-Unterstützung für die Animation von Pseudo-Elementen nicht sehr gut (sogar zwischen verschiedenen Webkit-Versionen), sodass ich mich für die Lösung mit dem zusätzlichen <em>span</em> entschieden habe.</p>
<h3 id="die-t%C3%BCr" tabindex="-1">Die Tür</h3>
<p>Eine der unerwarteten und zudem positiven Überraschungen war der Einsatz von Rändern (<em>border</em> Eigenschaft), um in der rechten Wand eine Öffnung darzustellen, welche den Ausgang repräsentieren soll. Für die Tür habe ich ein einzelnes <em>div</em> und einige farbige Ränder benutzt, welche die Öffnung so aussehen lassen, als sei sie in die Wand eingelassen.</p>
<img src="/images/posts/portal/door.png" alt="Tür" />
<p>Das HTML für die Tür ist sehr einfach. Folgendes fügen wir zu <em>section.stage</em> hinzu.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>door<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Wir benötigen für die Tür einige Rahmen. Anschließend können wir die Tür mit Hilfe einer Transformation an der rechten Wand positionieren:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .door</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #efe8dd<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 6px solid #bcb3a8<span class="token punctuation">;</span>
  <span class="token property">border-left</span><span class="token punctuation">:</span> 7px solid #78552e<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 85px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>450px<span class="token punctuation">,</span> 34px<span class="token punctuation">,</span> 4px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 65px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Wir setzten zwei Kanten ein, um unseren Effekt zu erzielen. Die linke Kante ist auf die rechte Wand farblich abgestimmt. Die untere passt zur Ebene, wodurch ein Gefühl von Tiefe entsteht. Da kein oberer Rahmen angegeben wurde, schließt der linke Rahmen mit der Oberseite des <em>div</em> ab, was in diesem Fall gut aussieht.</p>
<h2 id="figuren" tabindex="-1">Figuren</h2>
<p>Da nun die beiden Portale und die Tür in Position sind, brauchen wir jemanden, der auf der einen Seite durch das Portal springt und auf der anderen Seite wieder herauskommt. Der erste Schritt besteht also darin, die Person zu erstellen, die durch die Portale springt.</p>
<p>Ursprünglich hatte ich versucht, die Animation mit nur einer Person zu gestalten, sodass die Animation am ersten Portal stoppt und sich dann sofort am zweiten fortsetzt. Allerdings flimmerte die Figur, wenn sie sich zwischen den beiden Portalen bewegte, weshalb ich mich dazu entschied, zwei Figuren einzusetzen und sie getrennt voneinander zu animieren.</p>
<h3 id="die-figuren-erstellen" tabindex="-1">Die Figuren erstellen</h3>
<img src="/images/posts/portal/dude1.png" alt="Die erste von zwei Figuren die in der Szene animiert werden" />
<p>Die erste Figur besteht im Wesentlich aus zwei Teilen: dem Kopf und dem Körper. Die Beine werden später mit Hilfe von Pseudo-Elemente hinzugefügt. Ein ähnliche Struktur verwenden wir auch für den Schatten der Figur.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dude one<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>head<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>body<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dude-shadow one<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>head<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>body<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Da der Schatten Teil der gesamten Figur ist (<em>dude one</em>), können wir beides gleichzeitig animieren. Das CSS sieht folgendermaßen aus:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.dude, .dude-shadow</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.dude figure, .dude-shadow figure</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.dude figure.head, .dude-shadow figure.head</span> <span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 22px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.dude figure.body, .dude-shadow figure.body</span> <span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 30px 30px 0 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 21px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 26px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.dude figure.body:before, .dude figure.body:after, .dude-shadow figure.body:before, .dude-shadow figure.body:after</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 9px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.dude figure.body:before, .dude-shadow figure.body:before</span> <span class="token punctuation">{</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.dude figure.body:after, .dude-shadow figure.body:after</span> <span class="token punctuation">{</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Die Anweisungen duplizieren sich jeweils durch die Beschreibung von sowohl Figur also auch Schatten. Jedes Element wir absolut positioniert, und wir benutzen <em>border-radius</em> um runde Formen zu erzeugen. Die Beine werden, wie gesagt, durch zwei Pseudo-Elemente beschrieben und dann positioniert.</p>
<h3 id="figur-1" tabindex="-1">Figur 1</h3>
<p>Die Figur ist also fertig und muss nun an ihre Startposition gebracht werden:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .dude.one</span> <span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>514px<span class="token punctuation">,</span> 50px<span class="token punctuation">,</span> 375px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>78deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .dude-shadow.one</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.1<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-12px<span class="token punctuation">)</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>90deg<span class="token punctuation">)</span> <span class="token function">translateY</span><span class="token punctuation">(</span>8px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Die CSS Transformation bezieht sich sowohl auf die Figur wie auch den Schatten. Anstatt für den Schatten eine graue Farbe zu benutzen, setzen wir die Lichtdurchlässigkeit (<em>opacity</em> Eigenschaft) auf 0,1. Dadurch lassen sich Details der Szene durch den Schatten hindurch erkennen.</p>
<p>Die Figur ist nun also an ihrer Startposition und in einem dem Video entsprechenden Winkel gedreht. Um die Animation der Figuren durch die Portale kümmern wir uns später.</p>
<h3 id="beh%C3%A4nde" tabindex="-1">Behände</h3>
<img src="/images/posts/portal/dude2.png" alt="Die zweite Figure, die in der Szene animiert wird" />
<p>Die zweite Figur benötigt ein weiteres Detail: Arme. Die Idee besteht darin, dass die Figur nach dem Portal-Sprung die Arme in die Höhe reißt. Hier das dazugehörige HTML:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dude two<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>head<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>body<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>arm left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>arm right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dude-shadow two<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>head<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>body<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>arm left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>arm right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Die zweite Figur ist zunächst unsichtbar und springt dann bei etwa 50% der Animation durch das Portal (nachdem die erste Figur ihr Portal erreicht hat). Die zweite Figur wird dazu bei ihrem Portal positioniert.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.stage .dude.two</span> <span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>610px<span class="token punctuation">,</span> 40px<span class="token punctuation">,</span> 10px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .dude.two figure.arm</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .dude.two figure.arm.left</span> <span class="token punctuation">{</span>
  <span class="token property">left</span><span class="token punctuation">:</span> -13px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateZ</span><span class="token punctuation">(</span>40deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .dude.two figure.arm.right</span> <span class="token punctuation">{</span>
  <span class="token property">right</span><span class="token punctuation">:</span> -10px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateZ</span><span class="token punctuation">(</span>-40deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.stage .dude-shadow.two</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.1<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>12px<span class="token punctuation">)</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-16px<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>-6px<span class="token punctuation">)</span> <span class="token function">rotateZ</span><span class="token punctuation">(</span>-90deg<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>90deg<span class="token punctuation">)</span> <span class="token function">rotateZ</span><span class="token punctuation">(</span>50deg<span class="token punctuation">)</span> <span class="token function">skewX</span><span class="token punctuation">(</span>30deg<span class="token punctuation">)</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0.8<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Für die Arme verwenden wir eine zweite Animation, in welcher sie zunächst unsichtbar sind und erst erscheinen, wenn sie in die Höhe gehoben werden.</p>
<h2 id="die-b%C3%BChne-ist-bereit" tabindex="-1">Die Bühne ist bereit</h2>
<p>Die Protagonisten und die Bühne sind fertig, und unsere Szene ist somit bereit für ihre Animation.</p>
<img src="/images/posts/portal/stage_set.png" alt="Die Szene ist fertig, und die beiden Figuren bereit zur Animation." />
<p>Jetzt wollen wir versuchen, dass die Figur scheinbar durch das erste Portal springt und durch das andere wieder herauskommt.</p>
<h2 id="animation" tabindex="-1">Animation</h2>
<p>In der <a href="http://hop.ie/portal/">Demo</a> erkennt Ihr eine ganze Reihe von Animationen. Anstatt auf jede einzelne Animation in der Szene einzugehen, setze ich den Fokus hier auf die Animation der Figur wie sie durch die Portale springt.</p>
<h3 id="keyframe-animation" tabindex="-1"><em>keyframe</em> Animation</h3>
<p>Animation und korrektes Timing der HTML-Elemente erreichen wir mit Hilfe der <a href="http://docs.webplatform.org/wiki/css/atrules/@keyframes"><em>keyframes</em></a> Eigenschaft. Die <em>keyframes</em> werden dann durch die <a href="http://docs.webplatform.org/wiki/css/properties/animation"><em>animation</em></a> Eigenschaft den entsprechenden HTML-Elementen zugeordnet.</p>
<p>Als erstes animieren wir die Annäherung und den Sprung der Figur durch das linke Portal. Im folgenden seht ihr die <em>keyframes</em>, um dies zu erreichen:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> move-dude-one</span> <span class="token punctuation">{</span>
  <span class="token comment">/* Character flies into scene */</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>514px<span class="token punctuation">,</span> -10px<span class="token punctuation">,</span> 375px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>78deg<span class="token punctuation">)</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* Waits a moment */</span>
  <span class="token selector">1%, 18%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>514px<span class="token punctuation">,</span> 50px<span class="token punctuation">,</span> 375px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>78deg<span class="token punctuation">)</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* Moves toward the portal */</span>
  <span class="token selector">34%, 39%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>284px<span class="token punctuation">,</span> 40px<span class="token punctuation">,</span> 375px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>78deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* Pauses, them jumps in */</span>
  <span class="token selector">41%, 42%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>234px<span class="token punctuation">,</span> 40px<span class="token punctuation">,</span> 375px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>78deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* Vanishes */</span>
  <span class="token selector">43%, 100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>234px<span class="token punctuation">,</span> 40px<span class="token punctuation">,</span> 375px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>78deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Anmerkung: Benutzt *prefixes* wie @-webkit-keyframes, @-moz-keyframes etc.! */</span></code></pre>
<p><em>Keyframes</em> beschreiben eine Reihe von Schritten in der Animation, wobei die Schritte in Prozent der Animationsdauer angegeben werden. Bei einer Dauer von 10 Sekunden entsprechen 10% also 1 Sekunde und 90% entsprechen 9 Sekunden.</p>
<p>Wir benutzen zwei Animationen von jeweils 10 Sekunden, damit unsere Figuren in einer nahtlosen Schleife durch die Portale springen. Für jeden Animationsschritt habe ich einen Kommentar in den Code geschrieben. Um die Figuren für jeden Animationsschritt in Position zu bringen und zu drehen, benutzen wir die <em>transform</em> Eigenschaft.</p>
<p>Bei 43% der Animationsdauer lassen wir die erste Figur verschwinden (<em>opacity</em> wird auf Null gesetzt). Zu diesen Zeitpunkt verschwindet die Figur durch das linke Portal. Die zweite Figur muss somit bei 43% sichtbar werden.</p>
<p>Bevor wir uns darum kümmern, wollen wir zunächst die Anweisungen für die Animation der ersten Figur festlegen:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.dude.one</span> <span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> move-dude-one 10s linear infinite<span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Die <em>animation</em> Eigenschaft beschreibt die Anweisungen für die Animation der ersten Figur (<em>dude one</em>). Die Anweisungen werden einem Animationsnamen zugeordnet, die Animationsdauer wird auf 10 Sekunden gesetzt, und die Animation soll in einer Endlosschleife laufen.</p>
<p>Bevor unsere Animation startet, soll unsere erste Figur unsichtbar sein (<em>opacity: 0</em>).</p>
<p>Nachdem das erledigt ist, können wir die <em>keyframes</em> für die zweite Figur festlegen:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> move-dude-two</span> <span class="token punctuation">{</span>
  <span class="token comment">/* Dude be invisible */</span>
  <span class="token selector">0%, 42%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>610px<span class="token punctuation">,</span> 40px<span class="token punctuation">,</span> 10px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* Apparato! */</span>
  <span class="token selector">42.5%</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>610px<span class="token punctuation">,</span> 40px<span class="token punctuation">,</span> 10px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* Move onto the platform */</span>
  <span class="token selector">46%, 75%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>610px<span class="token punctuation">,</span> 40px<span class="token punctuation">,</span> 120px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* Stand there for a bit */</span>
  <span class="token selector">76%, 97%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>610px<span class="token punctuation">,</span> -10px<span class="token punctuation">,</span> 120px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* Fly up into the sky! */</span>
  <span class="token selector">98%, 100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3D</span><span class="token punctuation">(</span>610px<span class="token punctuation">,</span> -10px<span class="token punctuation">,</span> 120px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> arms</span> <span class="token punctuation">{</span>
  <span class="token comment">/* No arms */</span>
  <span class="token selector">0%, 53%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* Yes arms! */</span>
  <span class="token selector">54%, 100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Wie erwähnt beginnt diese Animation bei etwa 42% der Animationsdauer. Die Figur springt aus dem Portal hervor, steht ein bisschen herum und entschwindet dann nach oben. Die Animation der Arme wird in einer zweiten Reihe von <em>keyframes</em> beschrieben. Die Arme sind zunächst unsichtbar und erscheinen dann bei etwa der Hälfte der Animationsdauer.</p>
<p>Die Anweisungen für die Animation der zweiten Figur (<em>dude two</em>) sehen folgendermaßen aus:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.dude.two</span> <span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> move-dude-two 10s linear infinite<span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class="language-css"><code class="language-css"><span class="token selector">.dude.two figure.arm</span> <span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> arms 10s linear infinite<span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Da sowohl die Animation der zweiten Figur wie auch die Animation der ersten Figur jeweils 10 Sekunden dauern und in einer Endlosschleife laufen, gehen sie elegant ineinander über.</p>
<p>Falls nicht schon geschehen, seht Euch das <a href="http://hop.ie/portal/">Endresultat</a> in einem modernen Browser an (vorzugsweise nicht Internet Explorer).</p>
<h2 id="vorbehalte-%26-browser-launen" tabindex="-1">Vorbehalte &amp; Browser-Launen</h2>
<p>Da wir gerade über Browser reden, sollte ich anmerken, dass diese Animation derzeit nicht im Internet Explorer funktioniert. Firefox hat so seine Zicken, funktioniert aber ganz okay. In Safari sieht es schon sehr gut aus (warte darauf, dass Apple endlich webkit patched) und in Chrome läuft die Szene einwandfrei.</p>
<p>Die Leistung sieht ziemlich gut aus auf unterschiedlichen Geräten (Browser-Probleme außer Acht lassend). Auf einem iPhone mit Safari ist die Leistung besser als mit Chrome auf einem Laptop. Das liegt daran, dass für die CSS 3D Transformationen die Grafikkarte genutzt werden kann.</p>
<h2 id="demo-und-kontaktinformationen" tabindex="-1">Demo und Kontaktinformationen</h2>
<p>Schaut Euch die <a href="http://hop.ie/portal">online Portal CSS demo</a> an oder ladet Euch den <a href="https://github.com/donovanh/portal">Quellcode von Github</a> herunter.</p>


      <section class="post-footer">
        <section class="quote-container">
          <section class="rocky">
            <img src="/images/rocky.svg">
          </section>
          <blockquote>
            <p>Make sure to <a href="https://twitter.com/cssanimation">follow on Twitter</a> for all the latest updates!</p>
          </blockquote>
        </section>
      </section>
    </article>
    
    <aside class="post-aside three columns">
      
        <section class="demo-link">
          <a href="https://cssanimation.rocks/demo/portal/" class="button primary-button">Demo</a>
        </section>
      

      
        <section class="translator">
          <h3>Translation Info</h3>
          <p>This article translated by Martin Hesseler. (<a href="/">See original</a>)</p>
        </section>
      
      
      <section class="esteemed-benefactors">
        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CEBICK7W&placement=cssanimationrocks" id="_carbonads_js"></script>
      </section>
    </aside>
  </section>
</section>

    <div class="email-signup" id="email-signup" style="max-width: 500px; margin: 0 auto">
  <h2>CSS Animation Weekly</h2>
  <p>The latest tutorials and inspiration every week!</p>
  <iframe
    src="https://embeds.beehiiv.com/5c8b2503-5d81-4b56-8dd8-da3a39a1d3be?slim=true"
    data-test-id="beehiiv-embed"
    frameborder="0"
    scrolling="no"
    style="margin: 0; border-radius: 0px !important; background-color: transparent;"
  ></iframe>
</div>

<footer class="footer">
  <section class="container">
    <section class="row">
      <p>
        <a href="mailto:hello@cssanimation.rocks">Get in touch</a>
        •
        <a href="/courses/">CSS Courses</a>
      </p>
    </section>
    <section class="row" style="text-align: center">
      <p>
        
          
            
            <a href="/ar/">العربية</a>
          
             | 
            <a href="/cn/">中文</a>
          
             | 
            <a href="/da/">Danske</a>
          
             | 
            <a href="/de/">Deutsch</a>
          
             | 
            <a href="/es/">Español</a>
          
             | 
            <a href="/fr/">Français</a>
          
             | 
            <a href="/jp/">日本語</a>
          
             | 
            <a href="/nl/">Nederlands</a>
          
             | 
            <a href="/pt/">Português</a>
          
             | 
            <a href="/pl/">Polski</a>
          
             | 
            <a href="/ru/">Ру́сский</a>
          
             | 
            <a href="/tr/">Türkçe</a>
          
             | 
            <a href="/id/">Bahasa Indonesia</a>
          
             | 
            <a href="/bg/">български</a>
          
        
      </p>
    </section>
    <section class="row">
      <p>&copy; CSS Animation. Site by <a href="http://hop.ie">Donovan</a></p>
    </section>
  </section>
</footer>

<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="/javascript/site.js"></script>
<script src="/javascript/vendor/wow.min.js"></script>







<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>new WOW().init();</script>

  </body>
</html>
